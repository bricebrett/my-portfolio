{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/bricebrettinger/Desktop/OPENCLASSROOMS/my-portfolio/frontend/src/components/ContactForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { FormEvent, useState } from \"react\";\n\ntype Props = {\n  className?: string;\n  onSuccess?: () => void;\n};\n\ntype Values = {\n  name: string;\n  email: string;\n  message: string;\n};\n\nconst initialValues: Values = {\n  name: \"\",\n  email: \"\",\n  message: \"\",\n};\n\nexport default function ContactForm({ className = \"\", onSuccess }: Props) {\n  const [values, setValues] = useState<Values>(initialValues);\n  const [loading, setLoading] = useState(false);\n  const [sent, setSent] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  function handleChange(\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) {\n    const { name, value } = e.target;\n    setValues((v) => ({ ...v, [name]: value }));\n  }\n\n  function isEmail(v: string) {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(v);\n  }\n\n  async function handleSubmit(e: FormEvent) {\n    e.preventDefault();\n    setError(null);\n    setSent(false);\n\n    if (!values.name || !values.email || !values.message) {\n      setError(\"Merci de remplir tous les champs.\");\n      return;\n    }\n    if (!isEmail(values.email)) {\n      setError(\"Merci d’entrer un email valide.\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const res = await fetch(\"/api/contact\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(values),\n      });\n      const data = await res.json();\n      if (!res.ok || !data.ok) throw new Error(data.error || \"Erreur d’envoi\");\n\n      setSent(true);\n      setValues(initialValues);\n      onSuccess?.();\n    } catch (err: any) {\n      setError(err?.message ?? \"Une erreur est survenue.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <form\n      className={`contact-form ${className}`}\n      onSubmit={handleSubmit}\n      noValidate\n    >\n      <label className=\"contact-form__field\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Your name\"\n          value={values.name}\n          onChange={handleChange}\n          disabled={loading}\n          aria-required=\"true\"\n        />\n      </label>\n\n      <label className=\"contact-form__field\">\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Your Email\"\n          value={values.email}\n          onChange={handleChange}\n          disabled={loading}\n          aria-required=\"true\"\n        />\n      </label>\n\n      <label className=\"contact-form__field\">\n        <textarea\n          name=\"message\"\n          placeholder=\"Your Message\"\n          rows={6}\n          value={values.message}\n          onChange={handleChange}\n          disabled={loading}\n          aria-required=\"true\"\n        />\n      </label>\n\n      {error && (\n        <p className=\"contact-form__error\" role=\"alert\">\n          {error}\n        </p>\n      )}\n      {sent && (\n        <p className=\"contact-form__success\" role=\"status\">\n          Merci ! Votre message a bien été envoyé.\n        </p>\n      )}\n\n      <button\n        className=\"contact-form__submit\"\n        type=\"submit\"\n        disabled={loading}\n        aria-busy={loading}\n      >\n        {loading ? \"Sending…\" : \"Send It!\"}\n      </button>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAeA,MAAM,gBAAwB;IAC5B,MAAM;IACN,OAAO;IACP,SAAS;AACX;AAEe,SAAS,YAAY,EAAE,YAAY,EAAE,EAAE,SAAS,EAAS;IACtE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,SAAS,aACP,CAA4D;QAE5D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,UAAU,CAAC,IAAM,CAAC;gBAAE,GAAG,CAAC;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IAC3C;IAEA,SAAS,QAAQ,CAAS;QACxB,OAAO,6BAA6B,IAAI,CAAC;IAC3C;IAEA,eAAe,aAAa,CAAY;QACtC,EAAE,cAAc;QAChB,SAAS;QACT,QAAQ;QAER,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,OAAO,OAAO,EAAE;YACpD,SAAS;YACT;QACF;QACA,IAAI,CAAC,QAAQ,OAAO,KAAK,GAAG;YAC1B,SAAS;YACT;QACF;QAEA,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,MAAM,gBAAgB;gBACtC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAEvD,QAAQ;YACR,UAAU;YACV;QACF,EAAE,OAAO,KAAU;YACjB,SAAS,KAAK,WAAW;QAC3B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,aAAa,EAAE,WAAW;QACtC,UAAU;QACV,UAAU;;0BAEV,8OAAC;gBAAM,WAAU;0BACf,cAAA,8OAAC;oBACC,MAAK;oBACL,MAAK;oBACL,aAAY;oBACZ,OAAO,OAAO,IAAI;oBAClB,UAAU;oBACV,UAAU;oBACV,iBAAc;;;;;;;;;;;0BAIlB,8OAAC;gBAAM,WAAU;0BACf,cAAA,8OAAC;oBACC,MAAK;oBACL,MAAK;oBACL,aAAY;oBACZ,OAAO,OAAO,KAAK;oBACnB,UAAU;oBACV,UAAU;oBACV,iBAAc;;;;;;;;;;;0BAIlB,8OAAC;gBAAM,WAAU;0BACf,cAAA,8OAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,MAAM;oBACN,OAAO,OAAO,OAAO;oBACrB,UAAU;oBACV,UAAU;oBACV,iBAAc;;;;;;;;;;;YAIjB,uBACC,8OAAC;gBAAE,WAAU;gBAAsB,MAAK;0BACrC;;;;;;YAGJ,sBACC,8OAAC;gBAAE,WAAU;gBAAwB,MAAK;0BAAS;;;;;;0BAKrD,8OAAC;gBACC,WAAU;gBACV,MAAK;gBACL,UAAU;gBACV,aAAW;0BAEV,UAAU,aAAa;;;;;;;;;;;;AAIhC","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///Users/bricebrettinger/Desktop/OPENCLASSROOMS/my-portfolio/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}}]
}